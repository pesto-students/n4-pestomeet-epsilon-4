import mongoose from "mongoose";
import { v4 as uuidv4 } from "uuid";
import { DB_USER_MODEL, DB_TEAM_MODEL, DB_BATCH_MODEL } from "../../utils/app-constants";
import dotenv from "dotenv";
dotenv.config();
const teamSchema = new mongoose.Schema({
    teamId: { type: String, required: true, default: () => uuidv4() },
    teamName: { type: String, required: true },
    teamType: { type: String, required: true },
    batchId: { type: String, required: true, ref: DB_BATCH_MODEL },
    batchOwnerID: { type: String, required: true },
    mentorId: { type: String, required: true },
    teamMembers: { type: Array, required: true },
    lastupdateTime: { type: Date, default: Date.now },
    createTime: { type: Date }
}, {
    toJSON: { virtuals: true },
    toObject: { virtuals: true }
});
teamSchema.virtual('batchDetail', {
    ref: DB_BATCH_MODEL,
    localField: 'batchId',
    foreignField: 'batchId',
    justOne: true
});
teamSchema.virtual('mentorDetail', {
    ref: DB_USER_MODEL,
    localField: 'mentorId',
    foreignField: 'id',
    justOne: true
});
const teamModel = mongoose.model(DB_TEAM_MODEL, teamSchema);
export default teamModel;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVhbS1zY2hlbWEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi90ZWFtL3NjaGVtYS90ZWFtLXNjaGVtYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLFFBQVEsTUFBTSxVQUFVLENBQUM7QUFDaEMsT0FBTyxFQUFFLEVBQUUsSUFBSSxNQUFNLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDcEMsT0FBTyxFQUFDLGFBQWEsRUFBRSxhQUFhLEVBQUMsY0FBYyxFQUFDLE1BQU0sMkJBQTJCLENBQUM7QUFDdEYsT0FBTyxNQUFNLE1BQU0sUUFBUSxDQUFBO0FBQzNCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQWVoQixNQUFNLFVBQVUsR0FBRyxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQVE7SUFDNUMsTUFBTSxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBQztJQUMvRCxRQUFRLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7SUFDMUMsUUFBUSxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0lBQzFDLE9BQU8sRUFBRyxFQUFDLElBQUksRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBRSxHQUFHLEVBQUMsY0FBYyxFQUFDO0lBQ3pELFlBQVksRUFBQyxFQUFDLElBQUksRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLElBQUksRUFBQztJQUN4QyxRQUFRLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7SUFDMUMsV0FBVyxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0lBQzVDLGNBQWMsRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUU7SUFDakQsVUFBVSxFQUFFLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQztDQUN4QixFQUFDO0lBQ0EsTUFBTSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRTtJQUMxQixRQUFRLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0NBQzdCLENBQUMsQ0FBQztBQUVILFVBQVUsQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFO0lBQ2hDLEdBQUcsRUFBRSxjQUFjO0lBQ25CLFVBQVUsRUFBRSxTQUFTO0lBQ3JCLFlBQVksRUFBRSxTQUFTO0lBQ3ZCLE9BQU8sRUFBRSxJQUFJO0NBQ2QsQ0FBQyxDQUFDO0FBRUgsVUFBVSxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUU7SUFDakMsR0FBRyxFQUFFLGFBQWE7SUFDbEIsVUFBVSxFQUFFLFVBQVU7SUFDdEIsWUFBWSxFQUFFLElBQUk7SUFDbEIsT0FBTyxFQUFFLElBQUk7Q0FDZCxDQUFDLENBQUM7QUFJSCxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUM1RCxlQUFlLFNBQVMsQ0FBQyJ9