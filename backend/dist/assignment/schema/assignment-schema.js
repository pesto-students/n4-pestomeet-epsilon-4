import mongoose from "mongoose";
import { DB_ASSIGNMENT_MODEL, DB_USER_MODEL } from "../../utils/app-constants";
import { v4 as uuidv4 } from "uuid";
const assignmentSchema = new mongoose.Schema({
    assignmentId: { type: String, required: true, default: () => uuidv4() },
    assignmentName: { type: String, required: true },
    uploaderId: { type: String, required: true },
    eventID: { type: String, required: true },
    assignmentLinks: { type: Array, require: true },
    lastupdateTime: { type: Date, default: Date.now },
    createTime: { type: Date },
}, {
    toJSON: { virtuals: true },
    toObject: { virtuals: true }
});
assignmentSchema.virtual('uploaderDetail', {
    ref: DB_USER_MODEL,
    localField: 'uploaderId',
    foreignField: 'id',
    justOne: true
});
const assignmentModel = mongoose.model(DB_ASSIGNMENT_MODEL, assignmentSchema);
export default assignmentModel;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzaWdubWVudC1zY2hlbWEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9hc3NpZ25tZW50L3NjaGVtYS9hc3NpZ25tZW50LXNjaGVtYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLFFBQVEsTUFBTSxVQUFVLENBQUM7QUFDaEMsT0FBTyxFQUFFLG1CQUFtQixFQUFDLGFBQWEsRUFBQyxNQUFNLDJCQUEyQixDQUFDO0FBQzdFLE9BQU8sRUFBRSxFQUFFLElBQUksTUFBTSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBWXBDLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxRQUFRLENBQUMsTUFBTSxDQUFjO0lBQ3hELFlBQVksRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUU7SUFDdEUsY0FBYyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0lBQ2hELFVBQVUsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRTtJQUM1QyxPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7SUFDekMsZUFBZSxFQUFDLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFO0lBQzVDLGNBQWMsRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUU7SUFDakQsVUFBVSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQztDQUMxQixFQUFDO0lBQ0EsTUFBTSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRTtJQUMxQixRQUFRLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0NBQzdCLENBQUMsQ0FBQztBQUVILGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRTtJQUN6QyxHQUFHLEVBQUMsYUFBYTtJQUNqQixVQUFVLEVBQUUsWUFBWTtJQUN4QixZQUFZLEVBQUUsSUFBSTtJQUNsQixPQUFPLEVBQUUsSUFBSTtDQUNkLENBQUMsQ0FBQztBQUVILE1BQU0sZUFBZSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsbUJBQW1CLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUM5RSxlQUFlLGVBQWUsQ0FBQyJ9